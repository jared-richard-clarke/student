* SLR Machine

** Grammar

| rule | production |
|------+------------|
|    0 | S → E $    |
|    1 | E → E E +  |
|    2 | E → E E -  |
|    3 | E → 1      |

** Set Configuration

*Side Note*: Rules prefixed by *+* are closures of the item set.

| state | set         |
|-------+-------------|
|     0 | S →.E $     |
|       | + E →.E E + |
|       | + E →.E E - |
|       | + E →.1     |
|-------+-------------|
|     1 | S → E.$     |
|       | E → E.E +   |
|       | E → E.E -   |
|       | + E →.E E + |
|       | + E →.E E - |
|       | + E →.1     |
|-------+-------------|
|     2 | E → 1.      |
|-------+-------------|
|     3 | E → E E.+   |
|       | E → E E.-   |
|       | E → E.E +   |
|       | E → E.E -   |
|       | + E →.E E + |
|       | + E →.E E - |
|       | + E →.1     |
|-------+-------------|
|     4 | E → E E +.  |
|-------+-------------|
|     5 | E → E E -.  |

** LR(0) Canonical Collection

#+begin_example
                       +------------+      +------------+
                       | state 4    |      | state 5    |
                       |------------|      |------------|
                       | E → E E +. |      | E → E E -. |
                       +------------+      +------------+
                             ^                 ^
                             |       +         | -
  +--------+       $         +---------------+ |
  | accept |<-------------+                  | |
  +--------+              |                  | |
  +--------------+     +-------------+     +-------------+
  | state 0      |     | state 1     |     | state 3     |<---+
  |--------------|  E  |-------------|  E  |-------------|  E |
  |   S → .E $   |---->|   S → E.$   |---->| E → E E.+   |----+
  | + E → .E E + |     |   E → E.E + |     | E → E E.-   |
  | + E → .E E - |     |   E → E.E - |     | E → E.E +   |
  | + E → .1     |     | + E →.E E + |     | E → E.E -   |
  +--------------+     | + E →.E E - |     | + E →.E E + |
       |               | + E →.1     |     | + E →.E E - |
       | 1             +-------------+     | + E →.1     |
       V                     |             +-------------+
  +---------+        1       |                    |
  | state 2 |<---------------+                    |
  |---------|                   1                 |
  | E → 1.  |<------------------------------------+
  +---------+
#+end_example

** LR Table

| state | +     | -     | 1     | $      | E |
|-------+-------+-------+-------+--------+---|
|     0 |       |       | s2    |        | 1 |
|-------+-------+-------+-------+--------+---|
|     1 |       |       | s2    | accept | 3 |
|-------+-------+-------+-------+--------+---|
|     2 | r_{3} | r_{3} | r_{3} | r_{3}  |   |
|-------+-------+-------+-------+--------+---|
|     3 | s4    | s5    | s2    |        | 3 |
|-------+-------+-------+-------+--------+---|
|     4 | r_{1} | r_{1} | r_{1} | r_{1}  |   |
|-------+-------+-------+-------+--------+---|
|     5 | r_{2} | r_{2} | r_{2} | r_{2}  |   |

** Stack Trace: ~1 1 + 1 -~

| step | stack                 | input       | action |
|------+-----------------------+-------------+--------|
|    1 | ~0~                   | 1 1 + 1 - $ | s2     |
|    2 | ~0~ 1 ~2~             | 1 + 1 - $   | r_{3}  |
|    3 | ~0~ E                 | 1 + 1 - $   | 1      |
|    4 | ~0~ E ~1~             | 1 + 1 - $   | s2     |
|    5 | ~0~ E ~1~ 1 ~2~       | + 1 - $     | r_{3}  |
|    6 | ~0~ E ~1~ E           | + 1 - $     | 3      |
|    7 | ~0~ E ~1~ E           | + 1 - $     | s4     |
|    8 | ~0~ E ~1~ E ~3~ + ~4~ | 1 - $       | r_{1}  |
|    9 | ~0~ E                 | 1 - $       | 1      |
|   10 | ~0~ E ~1~             | 1 - $       | s2     |
|   11 | ~0~ E ~1~ 1 ~2~       | - $         | r_{3}  |
|   12 | ~0~ E ~1~ E           | - $         | 3      |
|   13 | ~0~ E ~1~ E ~3~       | - $         | s5     |
|   14 | ~0~ E ~1~ E ~3~ - ~5~ | $           | r_{2}  |
|   15 | ~0~ E                 | $           | 1      |
|   16 | ~0~ E ~1~             | $           | accept |

#+begin_example
   ------------------- traversal ------------------>
  +-----+---+-----+---+-----+---+-----+---+-----+---+
  | '1' | E | '1' | E | '+' | E | '1' | E | '-' | E |
  +-----+---+-----+---+-----+---+-----+---+-----+---+
   <------------------ derivation ------------------
#+end_example
