* UTF-8

** Sources

| source                    | author        |
|---------------------------+---------------|
| *Unicode*                 | unicode.org   |
| *UTF-8*                   | wikipedia.org |
| *UTF-8, Explained Simply* | Nic Barker    |

** Overview

- UTF-8 :: Unicode Transformation Format. 8-bit base size.

- Encodes up to 4 bytes

- ASCII compatible

- Self synchronizing

- Compressible

#+begin_example
  === Bit Base Sizes ===

           +---+---+---+---+
  UTF-8  = | x |   |   |   |
           +---+---+---+---+
           +---+---+---+---+
  UTF-16 = | x | x |   |   |
           +---+---+---+---+
           +---+---+---+---+
  UTF-32 = | x | x | x | x |
           +---+---+---+---+
#+end_example

| code point | decimal | character | utf-8 encoding                        | utf-8 (hex)   |
|------------+---------+-----------+---------------------------------------+---------------|
| U+0041     |      65 | A         | ~01000001~                            | ~41~          |
| U+03BB     |     955 | Œª         | ~11001110 10111011~                   | ~CE BB~       |
| U+2318     |    8984 | ‚åò         | ~11100010 10001100 10011000~          | ~E2 8C 98~    |
| U+1F44D    |  128077 | üëç        | ~11110000 10011111 10010001 10001101~ | ~F0 9F 91 8D~ |

#+begin_example
 +---+
 | 0 | Single-Byte ASCII Codepoint
 +---+
 +---+
 | 1 | Multi-Byte Codepoint
 +---+
 +---+---+
 | 1 | 1 | Lead Byte
 +---+---+
 +---+---+
 | 1 | 0 | Continuation Byte
 +---+---+

 === UTF-8 Encoding: ‚åò ===

    +- Multi-Byte Codepoint
    |    +- 3-Byte Codepoint
    |    |      +-----------+-------------+---------+
    |    |      |           |             |         |
    |    |  +------+    +--------+    +--------+    |
  +----------------+-------------+-------------+    |
  | 1 | 110 | 0010 | 10 | 001100 | 10 | 011000 |    |
  +----------------+-------------+-------------+    |
  ^----------------^---------------------------^    |
     Leading Byte       Continuation Bytes          |
            ^                                       |
            |                                       |
   (Synchronization Point)                          |
                                      +-------------+
  === Code Point: ‚åò ===               |
                          +-----------------------+
  +-----------+-----------+-----------+-----------+
  | 0000 0000 | 0000 0000 | 0010 0011 | 0001 1000 | <- UTF-8 standard mandates that
  +-----------+-----------+-----------+-----------+    the shortest encoding of a
                                                       codepoint be used.
#+end_example

** Byte Map

|   | 0   | 1   | 2   | 3   | 4   | 5   | 6   | 7   | 8   | 9  | A   | B   | C       | D  | E  | F   |
|---+-----+-----+-----+-----+-----+-----+-----+-----+-----+----+-----+-----+---------+----+----+-----|
| 0 | NUL | SOH | STX | ETX | EOT | ENQ | ACK | BEL | BS  | HT | LF  | VT  | FF      | CR | SO | SI  |
|---+-----+-----+-----+-----+-----+-----+-----+-----+-----+----+-----+-----+---------+----+----+-----|
| 1 | DLE | DC1 | DC2 | DC3 | DC4 | NAK | SYN | ETB | CAN | EM | SUB | ESC | FS      | GS | RS | US  |
|---+-----+-----+-----+-----+-----+-----+-----+-----+-----+----+-----+-----+---------+----+----+-----|
| 2 | SP  | !   | "   | #   | $   | %   | &   | '   | (   | )  | *   | +   | ,       | -  | .  | /   |
|---+-----+-----+-----+-----+-----+-----+-----+-----+-----+----+-----+-----+---------+----+----+-----|
| 3 | 0   | 1   | 2   | 3   | 4   | 5   | 6   | 7   | 8   | 9  | :   | ;   | <       | =  | >  | ?   |
|---+-----+-----+-----+-----+-----+-----+-----+-----+-----+----+-----+-----+---------+----+----+-----|
| 4 | @   | A   | B   | C   | D   | E   | F   | G   | H   | I  | J   | K   | L       | M  | N  | O   |
|---+-----+-----+-----+-----+-----+-----+-----+-----+-----+----+-----+-----+---------+----+----+-----|
| 5 | P   | Q   | R   | S   | T   | U   | V   | W   | X   | Y  | Z   | [   | \       | ]  | ^  | _   |
|---+-----+-----+-----+-----+-----+-----+-----+-----+-----+----+-----+-----+---------+----+----+-----|
| 6 | `   | a   | b   | c   | d   | e   | f   | g   | h   | i  | j   | k   | l       | m  | n  | o   |
|---+-----+-----+-----+-----+-----+-----+-----+-----+-----+----+-----+-----+---------+----+----+-----|
| 7 | p   | q   | r   | s   | t   | u   | v   | w   | x   | y  | z   | {   | \vert{} | }  | ~  | DEL |
|---+-----+-----+-----+-----+-----+-----+-----+-----+-----+----+-----+-----+---------+----+----+-----|
| 8 |     |     |     |     |     |     |     |     |     |    |     |     |         |    |    |     |
|---+-----+-----+-----+-----+-----+-----+-----+-----+-----+----+-----+-----+---------+----+----+-----|
| 9 |     |     |     |     |     |     |     |     |     |    |     |     |         |    |    |     |
|---+-----+-----+-----+-----+-----+-----+-----+-----+-----+----+-----+-----+---------+----+----+-----|
| A |     |     |     |     |     |     |     |     |     |    |     |     |         |    |    |     |
|---+-----+-----+-----+-----+-----+-----+-----+-----+-----+----+-----+-----+---------+----+----+-----|
| B |     |     |     |     |     |     |     |     |     |    |     |     |         |    |    |     |
|---+-----+-----+-----+-----+-----+-----+-----+-----+-----+----+-----+-----+---------+----+----+-----|
| C | 2   | 2   | 2   | 2   | 2   | 2   | 2   | 2   | 2   | 2  | 2   | 2   | 2       | 2  | 2  | 2   |
|---+-----+-----+-----+-----+-----+-----+-----+-----+-----+----+-----+-----+---------+----+----+-----|
| D | 2   | 2   | 2   | 2   | 2   | 2   | 2   | 2   | 2   | 2  | 2   | 2   | 2       | 2  | 2  | 2   |
|---+-----+-----+-----+-----+-----+-----+-----+-----+-----+----+-----+-----+---------+----+----+-----|
| E | 3   | 3   | 3   | 3   | 3   | 3   | 3   | 3   | 3   | 3  | 3   | 3   | 3       | 3  | 3  | 3   |
|---+-----+-----+-----+-----+-----+-----+-----+-----+-----+----+-----+-----+---------+----+----+-----|
| F | 4   | 4   | 4   | 4   | 4   | 4   | 4   | 4   | 5   | 5  | 5   | 5   | 6       | 6  |    |     |

*** Legend

| Type                 | Range                        |
|----------------------+------------------------------|
| ASCII control        | ~{ 00-2F } ‚à™ { 7F }~         |
|----------------------+------------------------------|
| ASCII character      | ~{ 20-7E }~                  |
|----------------------+------------------------------|
| Continuation Byte    | ~{ 80-BF }~                  |
|----------------------+------------------------------|
| First of N-bytes     | ~{ C2-F3 } \ { E0, ED, F0 }~ |
|----------------------+------------------------------|
| Invalid Continuation | ~{ E0, ED, F0, F4 }~         |
|----------------------+------------------------------|
| Unused               | ~{ C0-C1 } ‚à™ { F5-FF }~      |
